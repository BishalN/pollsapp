{% extends 'base.html' %}

{% block content %}
<div class="space-y-4">
    <h1 class="text-xl font-bold">{{ poll.question }}</h1>
    
    {% for choice in poll.choices.all %}
    <div class="space-y-1">
        <div class="flex justify-between">
            <span>{{ choice.text }}</span>
            <span>{{ choice.votes }} votes</span>
        </div>
        <div class="bg-gray-200 rounded-full h-4">
            <div class="bg-green-600 h-full rounded-full" style="width: {% widthratio choice.votes poll.choices.all|length 100 %}%"></div>
        </div>
    </div>
    {% endfor %}
</div>
{% endblock %}

{% comment %} {% extends 'base.html' %}

{% block content %}
<div class="space-y-4">
    <h1 class="text-xl font-bold">{{ poll.question }}</h1>
    
    {% for choice in poll.choices.all %}
    <div class="space-y-1">
        <div class="flex justify-between">
            <span>{{ choice.text }}</span>
            <span>{{ choice.votes }} votes</span>
        </div>
        <div class="bg-gray-200 rounded-full h-4">
            {% if total_votes > 0 %}
                <div class="bg-green-600 h-full rounded-full" style="width: {% widthratio choice.votes total_votes 100 %}%;"></div>
            {% else %}
                <div class="bg-green-600 h-full rounded-full" style="width: 0%;"></div>
            {% endif %}
        </div>
    </div>
    {% endfor %}
</div>
{% endblock %} {% endcomment %}

